#+TITLE: Emacs Config
#+AUTHOR: Zach Dodge

#+begin_src elisp
(setq user-full-name "Zachary Dodge"
      user-mail-address "zacharysdodge@gmail.com")
#+end_src

#+RESULTS:
: zacharysdodge@gmail.com

#+begin_src elisp
(setq doom-theme 'doom-dracula)
(setq doom-font (font-spec :family "Hack Nerd Font Mono" :size 16))
#+end_src

#+RESULTS:
: #<font-spec nil nil Hack\ Nerd\ Font\ Mono nil nil nil nil nil 16 nil nil nil nil>

#+begin_src elisp
(setq org-support-shift-select t)
#+end_src

#+RESULTS:
: t

- Display (absolute) line numbers
- Tell projectile to only search non-gitignored files
- Blink the cursor
- Don't require confirmation to exit emacs
- Disable scroll wheel "acceleration"
#+begin_src elisp
(setq display-line-numbers-type t)
(setq projectile-indexing-method 'alien)
(blink-cursor-mode)
(setq confirm-kill-emacs nil)
(setq mouse-wheel-progressive-speed nil)
#+end_src

#+RESULTS:

- Make Emacs and User the only two tab groups
- Use delta mode in magit
- Enable minimap
#+begin_src elisp
(defun centaur-tabs-buffer-groups ()
  (list
    (cond
      ((string-equal "*" (substring (buffer-name) 0 1)) "Emacs")
      (t "User"))))
(use-package! magit-delta
  :hook (magit-mode . magit-delta-mode))
(use-package! minimap
  :config
  (minimap-mode))
#+end_src

#+RESULTS:
: t

Make the escape key quit (as opposed to triple escape)
#+begin_src elisp
(global-set-key (kbd "<escape>") 'keyboard-escape-quit)
#+end_src

#+RESULTS:
: keyboard-escape-quit

Utility functions
#+begin_src elisp
(defun wsl-p () (string-match "WSL" operating-system-release))
#+end_src

#+RESULTS:
: wsl-p

Size the frame to be proportional to the display
#+begin_src elisp
(defun set-ideal-frame-size ()
  (when window-system
    (let ((width (* (display-pixel-width) 0.8))
          (height (* (display-pixel-height) 0.8))
          (default-width (* 2560 0.8))
          (default-height (* 1440 0.8)))
      (if (wsl-p)
        (set-frame-size (selected-frame) (truncate default-width) (truncate default-height) t)
        (set-frame-size (selected-frame) (truncate width) (truncate height) t))
      (if (wsl-p)
       (set-frame-position (selected-frame) (truncate (* default-width 0.125)) (truncate (* default-height 0.125)))
       (set-frame-position (selected-frame) (truncate (* width 0.125)) (truncate (* height 0.125)))))))
(set-ideal-frame-size)
#+end_src

#+RESULTS:
: t
