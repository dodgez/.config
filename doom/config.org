#+TITLE: Emacs Config
#+AUTHOR: Zach Dodge

#+begin_src elisp
(setq user-full-name "Zachary Dodge"
      user-mail-address "zacharysdodge@gmail.com")
#+end_src

#+RESULTS:
: zacharysdodge@gmail.com

#+begin_src elisp
(setq doom-theme 'doom-dracula)
(setq doom-font (font-spec :family "Hack Nerd Font Mono" :size 16))
#+end_src

#+RESULTS:
: #<font-spec nil nil Hack\ Nerd\ Font\ Mono nil nil nil nil nil 16 nil nil nil nil>

#+begin_src elisp
(setq org-support-shift-select t)
#+end_src

#+RESULTS:
: t

- Display (absolute) line numbers
- Tell projectile to only search non-gitignored files
- Blink the cursor
- Don't require confirmation to exit emacs
- Disable scroll wheel "acceleration"
#+begin_src elisp
(setq display-line-numbers-type t)
(setq projectile-indexing-method 'alien)
(blink-cursor-mode)
(setq confirm-kill-emacs nil)
(setq mouse-wheel-progressive-speed nil)
#+end_src

#+RESULTS:

- Make Emacs and User the only two tab groups
- Use delta mode in magit
- Enable minimap
#+begin_src elisp
(defun custom-centaur-tabs-buffer-groups ()
  (list
   (cond
    ((string-equal "*" (substring (buffer-name) 0 1)) "Emacs")
    (t "User"))))
(use-package! centaur-tabs
  :config
  (setq centaur-tabs-buffer-groups-function #'custom-centaur-tabs-buffer-groups))
(use-package! magit-delta
  :hook (magit-mode . magit-delta-mode))
(use-package! minimap
  :config
  (minimap-mode))
#+end_src

#+RESULTS:
: t

Make the escape key quit (as opposed to triple escape) and switch home and end to move relative to a line.
#+begin_src elisp
(map! "<escape>" #'keyboard-escape-quit)
(map! "<home>" #'beginning-of-line)
(map! "<end>" #'end-of-line)
#+end_src

#+RESULTS:

Size the frame to be proportional to the display.
The default proportion is 0.8 of width and height.
If the display width is too large (>= 2 * 1920) then default to 2560 (my main monitor).
#+begin_src elisp
(defun set-ideal-frame-size (&optional proportion)
  (interactive)
  (when (display-graphic-p)
    (pcase (frame-monitor-workarea)
      (`(,display-x ,display-y ,display-raw-width ,display-raw-height)
       (let* ((proportion (or proportion 0.9))
              (margin (/ (- 1 proportion) 2))
              (display-width (- display-raw-width display-x))
              (display-height (- display-raw-height display-y))
              (width (truncate (* display-width proportion)))
              (height (truncate (* display-height proportion)))
              (margin-left (+ display-x (truncate (* display-width margin))))
              (margin-top (+ display-y (truncate (* display-height margin)))))
         (set-frame-size (selected-frame) width height t)
         (set-frame-position (selected-frame) margin-left margin-top))))))
(set-ideal-frame-size)
(map! :leader
      :desc "Set ideal frame size" "F" #'set-ideal-frame-size)
#+end_src

#+RESULTS:
: set-ideal-frame-size
